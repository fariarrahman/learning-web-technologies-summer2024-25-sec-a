<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Billing & Insurance</title>
  <link rel="stylesheet" href="background.css">
  <style>
    .form-box {
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.3);
      width: 400px;
      text-align: center;
    }
    input, select {
      width: 95%;
      margin: 8px 0;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      width: 100%;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover { background: #218838; }
    .result {
      margin-top: 15px;
      padding: 10px;
      border-radius: 6px;
      background: #eaf7ea;
      font-weight: bold;
      color: green;
      display: none;
    }
  </style>
</head>
<body>
  <div class="form-box">
    <h2>Billing + Insurance Claim</h2>
    <label>Patient Name:</label>
    <input type="text" id="pname">
    <label>Patient ID:</label>
    <input type="text" id="pid">
    <label>Date of Admission:</label>
    <input type="date" id="admission">
    <label>Date of Leaving:</label>
    <input type="date" id="leaving">
    <label>Bed Type:</label>
    <select id="bed">
      <option value="">--Select--</option>
      <option value="1500">Ward (1500/day)</option>
      <option value="4000">Single Room (4000/day)</option>
    </select>
    <label>Insurance (%):</label>
    <select id="insurance">
      <option value="0">No Insurance</option>
      <option value="0.1">10%</option>
      <option value="0.3">30%</option>
      <option value="0.4">40%</option>
    </select>
    <button onclick="generateBill()">Generate & Submit</button>
    <div id="result" class="result"></div>
  </div>

<script>
function generateBill() {
  let name = document.getElementById("pname").value;
  let id = document.getElementById("pid").value;
  let adm = document.getElementById("admission").value;
  let leave = document.getElementById("leaving").value;
  let bed = document.getElementById("bed").value;
  let ins = document.getElementById("insurance").value;

  if(name==="" || id==="" || adm==="" || leave==="" || bed==="") {
    alert("Please fill all fields!");
    return;
  }

  let days = (new Date(leave) - new Date(adm)) / (1000*3600*24);
  if(days <= 0) days = 1;

  let baseBill = parseInt(bed) * days;
  let coverage = parseFloat(ins);
  let discount = baseBill * coverage;
  let finalBill = baseBill - discount;

  let box = document.getElementById("result");
  box.style.display = "block";
  box.innerText = 
    "Patient: " + name + " (ID: " + id + ")\n" +
    "Days: " + days + "\n" +
    "Base Bill: " + baseBill + " Tk\n" +
    "Insurance Discount: " + discount + " Tk\n" +
    "Final Bill: " + finalBill + " Tk\n" +
    "Claim Status: Pending...";
}
</script>
</body>
</html>
